plotCplane(test_som_2)
plotCplane(test_som_2)
source('~/Downloads/som_visualization_r-master/somComponentPlanePlottingFunction.R')
plotCplane(test_som_2)
plotCplane(test_som_2, title = "Test")
plotCplane(test_som_2, title = "Test")
plotCplane(test_som_2, title = "Test")
plotCplane(test_som_2, title = "Test")
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2, Y = T)
plotCplane(test_som_2, Y = T)
plotCplane(test_som_2, Y = T)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2, type = "Equal Interval")
plotCplane(test_som_2, type = "Equal Interval")
plotCplane(test_som_2, type = "Equal Interval")
plotCplane(test_som_2, type = "Equal Interval", Y= T)
plotCplane(test_som_2, type = "Equal Interval", Y= T)
plotCplane(test_som_2, type = "Equal Interval", Y= T)
plotCplane(test_som_2, type = "Equal Interval")
plotCplane(test_som_2, type = "Equal Interval")
plotCplane(test_som_2, type = "Equal Interval")
plotCplane(test_som_2, type = "Equal Interval")
plotCplane(test_som_2, type = "Equal Interval")
plotCplane(test_som_2, type = "Equal Interval")
plotCplane(test_som_2, type = "Equal Interval")
plotCplane(test_som_2, type = "Equal Interval")
plotCplane(test_som_2, type = "Equal Interval")
plotCplane(test_som_2, type = "Equal Interval")
plotCplane(test_som_2, type = "Equal Interval")
plotCplane(test_som_2, type = "Equal Interval")
plotCplane(test_som_2, type = "Quantile")
plotCplane(test_som_2, variable = 1, type = "Quantile")
plotCplane(test_som_2, variable = 1, type = "Quantile")
plotCplane(test_som_2, variable = 1, type = "Quantile")
plotCplane(test_som_2, variable = 1, type = "Equal Interval")
plotCplane(test_som_2, variable = 2, type = "Equal Interval")
plotCplane(test_som_2, variable = 2, type = "Quantile")
plotCplane(test_som_2, variable = 3, type = "Quantile")
plotCplane(test_som_2, variable = 3)
plotCplane(test_som_2, variable = 3)
plotCplane(test_som_2, variable = 4)
plotCplane(test_som_2, variable = 5)
plotCplane(test_som_2, variable = 6)
plotCplane(test_som_2, variable = 7)
plotCplane(test_som_2, variable = 8)
plotCplane(test_som_2, variable = 9)
plotCplane(test_som_2, variable = 10)
plotCplane(test_som_2, Y = T)
plotCplane(test_som_2, Y = T)
plotCplane(test_som_2, Y = T)
plotCplane(test_som_2, Y = T)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
30*30
a <- som_data %>% scale
test_som_2 <-
xyf(a[, -1], a[, "dem16_frac"],
grid = somgrid(xdim = 30, ydim = 30, topo="hexagonal"))
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2, Y = T)
plotCplane(test_som_2, Y = T)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2, Y = T)
test_som_2 <-
xyf(a[, -1], a[, "dem16_frac"],
grid = somgrid(xdim = 30, ydim = 30, topo="hexagonal"))
plotCplane(test_som_2, Y = T)
test_som_2 <-
xyf(a[, -1], a[, "dem16_frac"],
grid = somgrid(xdim = 30, ydim = 30, topo="hexagonal"))
plotCplane(test_som_2, Y = T)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
test_som_2 <-
xyf(a[, -1], a[, "dem16_frac"],
grid = somgrid(xdim = 30, ydim = 30, topo="hexagonal"))
test_som_2 <-
xyf(a[, -1], a[, "dem16_frac"],
grid = somgrid(xdim = 30, ydim = 30, topo="hexagonal"))
plotCplane(test_som_2, Y = T)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2)
plotCplane(test_som_2, Y = T, title = "HRC vote share")
setwd("~/Dropbox/Gradient/Research/Election Analysis/SOM/")
source("som_c_plot.R")
library(USA.county.data)
data(USA_county_data)
library(foreach)
library(lme4)
library(blme)
library(coefplot)
library(scales)
library(dplyr)
library(kohonen)
tidy_data <-
USA_county_data %>%
filter(!is.na(dem16_frac))
tidy_data <-
tidy_data %>%
mutate(dem_votes = as.integer(dem16_frac * Total.Population),
rep_votes = as.integer(rep16_frac * Total.Population)
)
som_data <-
tidy_data %>%
dplyr::select(
dem16_frac, White, Uninsured, Diabetes, median_age,
Unemployment, Median.Earnings.2010.dollars,
Teen.births, Poor.mental.health.days, Gini.Coefficient,
SIRE_homogeneity, At.Least.High.School.Diploma,
Violent.crime
) %>%
na.roughfix
a <- som_data %>% scale
elec_som <-
xyf(a[, -1], a[, "dem16_frac"],
grid = somgrid(xdim = 35, ydim = 35, topo="hexagonal"))
plotCplane(elec_som, Y = T, title = "HRC Vote Share")
som_data <-
tidy_data %>%
dplyr::select(
dem16_frac
,Less.Than.High.School
,At.Least.High.School.Diploma
,At.Least.Bachelor.s.Degree
,Graduate.Degree
,School.Enrollment
,Median.Earnings.2010.dollars
,White.not.Latino.Population
,African.American.Population
,Native.American.Population
,Asian.American.Population
,Population.some.other.race.or.races
,Latino.Population
,Children.Under.6.Living.in.Poverty
,Adults.65.and.Older.Living.in.Poverty
,Total.Population
,Preschool.Enrollment.Ratio.enrolled.ages.3.and.4
,Poverty.Rate.below.federal.poverty.threshold
,Gini.Coefficient
,Child.Poverty.living.in.families.below.the.poverty.line
,Management.professional.and.related.occupations
,Service.occupations
,Sales.and.office.occupations
,Farming.fishing.and.forestry.occupations
,Construction.extraction.maintenance.and.repair.occupations
,Production.transportation.and.material.moving.occupations
,White
,Black
,Hispanic
,Asian
,Amerindian
,Other
,White_Asian
,SIRE_homogeneity
,median_age
,Poor.physical.health.days
,Poor.mental.health.days
,Low.birthweight
,Teen.births
,Children.in.single.parent.households
,Adult.smoking
,Adult.obesity
,Diabetes
,Sexually.transmitted.infections
,HIV.prevalence.rate
,Uninsured
,Unemployment
,Violent.crime
,Homicide.rate
,Injury.deaths
,Infant.mortality
) %>%
na.roughfix
library(randomForest)
som_data <-
tidy_data %>%
dplyr::select(
dem16_frac
,Less.Than.High.School
,At.Least.High.School.Diploma
,At.Least.Bachelor.s.Degree
,Graduate.Degree
,School.Enrollment
,Median.Earnings.2010.dollars
,White.not.Latino.Population
,African.American.Population
,Native.American.Population
,Asian.American.Population
,Population.some.other.race.or.races
,Latino.Population
,Children.Under.6.Living.in.Poverty
,Adults.65.and.Older.Living.in.Poverty
,Total.Population
,Preschool.Enrollment.Ratio.enrolled.ages.3.and.4
,Poverty.Rate.below.federal.poverty.threshold
,Gini.Coefficient
,Child.Poverty.living.in.families.below.the.poverty.line
,Management.professional.and.related.occupations
,Service.occupations
,Sales.and.office.occupations
,Farming.fishing.and.forestry.occupations
,Construction.extraction.maintenance.and.repair.occupations
,Production.transportation.and.material.moving.occupations
,White
,Black
,Hispanic
,Asian
,Amerindian
,Other
,White_Asian
,SIRE_homogeneity
,median_age
,Poor.physical.health.days
,Poor.mental.health.days
,Low.birthweight
,Teen.births
,Children.in.single.parent.households
,Adult.smoking
,Adult.obesity
,Diabetes
,Sexually.transmitted.infections
,HIV.prevalence.rate
,Uninsured
,Unemployment
,Violent.crime
,Homicide.rate
,Injury.deaths
,Infant.mortality
) %>%
na.roughfix
a <- som_data %>% scale
elec_som <-
xyf(a[, -1], a[, "dem16_frac"],
grid = somgrid(xdim = 30, ydim = 30, topo="hexagonal"))
plotCplane(elec_som, Y = T)
elec_som <-
xyf(a[, -1], a[, "dem16_frac"],
grid = somgrid(xdim = 30, ydim = 30, topo="hexagonal"))
plotCplane(elec_som, Y = T)
plotCplane(elec_som, 1)
plotCplane(elec_som, 2)
plotCplane(elec_som, 3)
plotCplane(elec_som, 4)
plotCplane(elec_som, 5)
plotCplane(elec_som, 6)
plotCplane(elec_som, 7)
plotCplane(elec_som, 8)
plotCplane(elec_som, 9)
plotCplane(elec_som, 10)
plotCplane(elec_som, 11)
plotCplane(elec_som, 12)
plotCplane(elec_som, 13)
plotCplane(elec_som, 14)
plotCplane(elec_som, 15)
plotCplane(elec_som, 16)
plotCplane(elec_som, 17)
plotCplane(elec_som, 18)
plotCplane(elec_som, 10)
plotCplane(elec_som, 20)
plotCplane(elec_som, 21)
plotCplane(elec_som, 22)
plotCplane(elec_som, 23)
plotCplane(elec_som, 24)
plotCplane(elec_som, 25)
plotCplane(elec_som, 26)
plotCplane(elec_som, 27)
plotCplane(elec_som, 28)
plotCplane(elec_som, 29)
plotCplane(elec_som, 30)
plotCplane(elec_som, 31)
plotCplane(elec_som, 32)
plotCplane(elec_som, 33)
plotCplane(elec_som, 34)
plotCplane(elec_som, 35)
plotCplane(elec_som, 36)
plotCplane(elec_som, 37)
plotCplane(elec_som, 38)
plotCplane(elec_som, 39)
plotCplane(elec_som, 40)
plotCplane(elec_som, 41)
plotCplane(elec_som, 42)
plotCplane(elec_som, 43)
plotCplane(elec_som, 44)
plotCplane(elec_som, 45)
plotCplane(elec_som, 46)
plotCplane(elec_som, 47)
plotCplane(elec_som, 48)
plotCplane(elec_som, 49)
plotCplane(elec_som, 50)
plotCplane(elec_som, 51)
plotCplane(elec_som, Y =T)
load("saved_elec_som")
plotCplane("saved_elec_som")
plotCplane(saved_elec_som)
plotCplane(saved_elec_som, Y = T)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som, Y=T)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
plotCplane(saved_elec_som)
install.packages("~/Downloads/gradient_0.99.1.tar.gz", repos = NULL, type = "source")
